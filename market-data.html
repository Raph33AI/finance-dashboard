<!DOCTYPE html>
<html lang='fr'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Market Data - Raphael NARDONE</title>
    
    <!-- Highcharts -->
    <script src='https://code.highcharts.com/stock/highstock.js'></script>
    <script src='https://code.highcharts.com/modules/exporting.js'></script>
    <script src='https://code.highcharts.com/modules/accessibility.js'></script>
    <script src='https://code.highcharts.com/indicators/indicators-all.js'></script>
    <script src='https://code.highcharts.com/modules/annotations.js'></script>
    
    <!-- Font Awesome -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'>
    
    <!-- Styles -->
    <link rel='stylesheet' href='assets/css/common.css'>
    <link rel='stylesheet' href='assets/css/sidebar.css'>
    <link rel='stylesheet' href='assets/css/market-data.css'>
</head>
<body>
    <div class='layout-wrapper'>
        
        <!-- ============================================
             SIDEBAR NAVIGATION
             ============================================ -->
        <aside class='sidebar' id='sidebar'>
            <div class='sidebar-header'>
                <h2><i class='fas fa-chart-line'></i> Finance Hub</h2>
                <button class='sidebar-toggle' id='sidebarToggle'>
                    <i class='fas fa-bars'></i>
                </button>
            </div>
            
            <nav class='sidebar-nav'>
                <!-- Budget Section -->
                <div class='nav-section'>
                    <button class='nav-folder'>
                        <i class='fas fa-wallet'></i>
                        <span>Budget</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu'>
                        <a href='index.html' class='nav-link'>
                            <i class='fas fa-home'></i>
                            <span>Dashboard Budget</span>
                        </a>
                    </div>
                </div>
                
                <!-- Simulation Section -->
                <div class='nav-section'>
                    <button class='nav-folder'>
                        <i class='fas fa-calculator'></i>
                        <span>Simulation</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu'>
                        <a href='monte-carlo.html' class='nav-link'>
                            <i class='fas fa-dice'></i>
                            <span>Monte Carlo</span>
                        </a>
                        <a href='portfolio-optimizer.html' class='nav-link'>
                            <i class='fas fa-chart-pie'></i>
                            <span>Markowitz</span>
                        </a>
                        <a href='risk-parity.html' class='nav-link'>
                            <i class='fas fa-balance-scale'></i>
                            <span>Risk Parity</span>
                        </a>
                        <a href='scenario-analysis.html' class='nav-link'>
                            <i class='fas fa-flask'></i>
                            <span>Sc√©narios</span>
                        </a>
                    </div>
                </div>
                
                <!-- Stocks Section -->
                <div class='nav-section active'>
                    <button class='nav-folder active'>
                        <i class='fas fa-chart-line'></i>
                        <span>Stocks</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu' style='display: block;'>
                        <a href='market-data.html' class='nav-link active'>
                            <i class='fas fa-globe'></i>
                            <span>Market Data</span>
                        </a>
                    </div>
                </div>
            </nav>
            
            <div class='sidebar-footer'>
                <div class='user-info'>
                    <i class='fas fa-user-circle'></i>
                    <span>Raphael NARDONE</span>
                </div>
            </div>
        </aside>
        
        <!-- ============================================
             MAIN CONTENT AREA
             ============================================ -->
        <div class='main-content'>
            <!-- Top Header -->
            <header class='top-header'>
                <div class="header-content-wrapper">
                    <div class='header-left'>
                        <button class='mobile-toggle' id='mobileToggle'>
                            <i class='fas fa-bars'></i>
                        </button>
                        <h1>Market Data</h1>
                    </div>
                    <div class='header-right'>
                        <span class='last-update'>
                            <i class='fas fa-clock'></i>
                            <span id='lastUpdate'></span>
                        </span>
                    </div>
                </div>
            </header>
            
            <!-- Container -->
            <div class='container'>
                <!-- Main Content -->
                <div class='content'>
                    
                    <!-- Search Panel -->
                    <div class='search-panel'>
                        <h2 class='panel-title'>
                            Search Stock Data 
                            <span class='help-icon' onclick='openModal("modalSearchHelp")'>?</span>
                        </h2>
                        
                        <div class='search-container'>
                            <div class='search-input-wrapper'>
                                <input type='text' 
                                       id='symbolInput' 
                                       placeholder='Enter symbol (e.g., AAPL, MSFT, BTC-USD)...'
                                       autocomplete='off'>
                                <button class='btn-search' onclick='MarketData.searchStock()'>
                                    <i class='fas fa-search'></i> Search
                                </button>
                            </div>
                            
                            <div class='quick-symbols'>
                                <span class='quick-label'>Quick Access:</span>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("AAPL")'>AAPL</button>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("MSFT")'>MSFT</button>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("GOOGL")'>GOOGL</button>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("TSLA")'>TSLA</button>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("BTC-USD")'>BTC-USD</button>
                                <button class='symbol-chip' onclick='MarketData.loadSymbol("^GSPC")'>S&P 500</button>
                            </div>
                            
                            <div class='time-period-selector'>
                                <label>Time Period:</label>
                                <button class='period-btn active' data-period='1M' onclick='MarketData.changePeriod("1M")'>1M</button>
                                <button class='period-btn' data-period='3M' onclick='MarketData.changePeriod("3M")'>3M</button>
                                <button class='period-btn' data-period='6M' onclick='MarketData.changePeriod("6M")'>6M</button>
                                <button class='period-btn' data-period='1Y' onclick='MarketData.changePeriod("1Y")'>1Y</button>
                                <button class='period-btn' data-period='5Y' onclick='MarketData.changePeriod("5Y")'>5Y</button>
                                <button class='period-btn' data-period='MAX' onclick='MarketData.changePeriod("MAX")'>MAX</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Loading Indicator -->
                    <div id='loadingIndicator' class='loading-indicator hidden'>
                        <i class='fas fa-spinner fa-spin'></i> Loading market data...
                    </div>
                    
                    <!-- Stock Overview -->
                    <div id='stockOverview' class='stock-overview hidden'>
                        <div class='overview-header'>
                            <div class='stock-title'>
                                <h2 id='stockName'>-</h2>
                                <span id='stockSymbol' class='stock-symbol'>-</span>
                            </div>
                            <div class='stock-price-section'>
                                <div id='currentPrice' class='current-price'>-</div>
                                <div id='priceChange' class='price-change'>-</div>
                            </div>
                        </div>
                        
                        <div class='overview-stats'>
                            <div class='stat-item'>
                                <span class='stat-label'>Open</span>
                                <span id='statOpen' class='stat-value'>-</span>
                            </div>
                            <div class='stat-item'>
                                <span class='stat-label'>High</span>
                                <span id='statHigh' class='stat-value'>-</span>
                            </div>
                            <div class='stat-item'>
                                <span class='stat-label'>Low</span>
                                <span id='statLow' class='stat-value'>-</span>
                            </div>
                            <div class='stat-item'>
                                <span class='stat-label'>Volume</span>
                                <span id='statVolume' class='stat-value'>-</span>
                            </div>
                            <div class='stat-item'>
                                <span class='stat-label'>Mkt Cap</span>
                                <span id='statMarketCap' class='stat-value'>-</span>
                            </div>
                            <div class='stat-item'>
                                <span class='stat-label'>P/E Ratio</span>
                                <span id='statPE' class='stat-value'>-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Results Panel -->
                    <div id='resultsPanel' class='results-panel hidden'>
                        
                        <!-- Price Chart -->
                        <div class='chart-section'>
                            <h3 class='subsection-title'>
                                Price Chart with Technical Indicators
                                <span class='help-icon' onclick='openModal("modalChartHelp")'>?</span>
                            </h3>
                            <div class='indicator-toggles'>
                                <label><input type='checkbox' id='toggleSMA' checked> SMA (20, 50)</label>
                                <label><input type='checkbox' id='toggleEMA'> EMA (12, 26)</label>
                                <label><input type='checkbox' id='toggleBB' checked> Bollinger Bands</label>
                                <label><input type='checkbox' id='toggleVolume' checked> Volume</label>
                            </div>
                            <div id='priceChart' class='chart'></div>
                        </div>
                        
                        <!-- Technical Indicators -->
                        <div class='charts-grid-2'>
                            <div class='chart-section'>
                                <h3 class='subsection-title'>
                                    RSI (Relative Strength Index)
                                    <span class='help-icon' onclick='openModal("modalRSI")'>?</span>
                                </h3>
                                <div id='rsiChart' class='chart chart-medium'></div>
                            </div>
                            
                            <div class='chart-section'>
                                <h3 class='subsection-title'>
                                    MACD (Moving Average Convergence Divergence)
                                    <span class='help-icon' onclick='openModal("modalMACD")'>?</span>
                                </h3>
                                <div id='macdChart' class='chart chart-medium'></div>
                            </div>
                        </div>
                        
                        <!-- Trading Signals -->
                        <div class='signals-section'>
                            <h3 class='subsection-title'>
                                Trading Signals
                                <span class='help-icon' onclick='openModal("modalSignals")'>?</span>
                            </h3>
                            <div id='tradingSignals' class='signals-grid'></div>
                        </div>
                        
                        <!-- Key Statistics -->
                        <div class='stats-section'>
                            <h3 class='subsection-title'>Key Statistics</h3>
                            <div id='keyStats' class='stats-grid'></div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Footer -->
                <footer>
                    <p>Market Data | Real-time financial data and technical analysis</p>
                    <p class='data-source'>Data provided by Yahoo Finance & Alpha Vantage</p>
                </footer>
            </div>
        </div>
        
    </div>
    
    <!-- ============================================
         MODALS
         ============================================ -->
    <div id='modalSearchHelp' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üîç How to Search Stocks</h2>
                <span class='close-modal' onclick='closeModal("modalSearchHelp")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìä Symbol Format</h3>
                <p>Enter the <strong>stock ticker symbol</strong> to retrieve market data:</p>
                <ul>
                    <li><strong>US Stocks:</strong> AAPL, MSFT, GOOGL, TSLA</li>
                    <li><strong>Indices:</strong> ^GSPC (S&P 500), ^DJI (Dow Jones), ^IXIC (NASDAQ)</li>
                    <li><strong>Crypto:</strong> BTC-USD, ETH-USD</li>
                    <li><strong>European Stocks:</strong> AIR.PA (Airbus), MC.PA (LVMH)</li>
                </ul>
                
                <h3>üìà Available Data</h3>
                <ul>
                    <li>Real-time price and change</li>
                    <li>Historical price charts</li>
                    <li>Technical indicators (RSI, MACD, Bollinger Bands)</li>
                    <li>Trading volume</li>
                    <li>Key statistics (P/E ratio, market cap, etc.)</li>
                </ul>
                
                <div class='tip-box'>
                    üí° <strong>Pro Tip:</strong> Use the time period buttons to analyze different timeframes and spot trends!
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalChartHelp' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìà Understanding Price Charts</h2>
                <span class='close-modal' onclick='closeModal("modalChartHelp")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìä Technical Indicators</h3>
                
                <h4>1Ô∏è‚É£ SMA (Simple Moving Average)</h4>
                <p>Average price over a period (e.g., 20 or 50 days). Helps identify <span class='key-term'>trends</span>.</p>
                <ul>
                    <li><strong>Price above SMA:</strong> Bullish signal üìà</li>
                    <li><strong>Price below SMA:</strong> Bearish signal üìâ</li>
                </ul>
                
                <h4>2Ô∏è‚É£ EMA (Exponential Moving Average)</h4>
                <p>Like SMA but gives more weight to recent prices. More <span class='key-term'>responsive</span> to changes.</p>
                
                <h4>3Ô∏è‚É£ Bollinger Bands</h4>
                <p>Shows price volatility. Price touching upper band = <strong>overbought</strong>, lower band = <strong>oversold</strong>.</p>
                
                <div class='tip-box'>
                    üí° Combine multiple indicators for better signals!
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalRSI' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä RSI - Relative Strength Index</h2>
                <span class='close-modal' onclick='closeModal("modalRSI")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìê What is RSI?</h3>
                <p>The <span class='key-term'>RSI</span> measures the speed and magnitude of price changes. It oscillates between <strong>0 and 100</strong>.</p>
                
                <h3>üìà Interpretation</h3>
                <ul>
                    <li><strong>RSI > 70:</strong> Overbought ‚Üí Possible reversal down ‚ö†Ô∏è</li>
                    <li><strong>RSI < 30:</strong> Oversold ‚Üí Possible reversal up üöÄ</li>
                    <li><strong>RSI = 50:</strong> Neutral</li>
                </ul>
                
                <div class='formula-box'>
                    <strong>Formula:</strong><br>
                    RSI = 100 - [100 / (1 + RS)]<br>
                    RS = Average Gain / Average Loss (over 14 periods)
                </div>
                
                <div class='tip-box'>
                    üí° <strong>Trading Strategy:</strong> Buy when RSI crosses above 30, sell when it crosses below 70.
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalMACD' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä MACD - Moving Average Convergence Divergence</h2>
                <span class='close-modal' onclick='closeModal("modalMACD")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìê What is MACD?</h3>
                <p>The <span class='key-term'>MACD</span> shows the relationship between two moving averages. It consists of:</p>
                <ul>
                    <li><strong>MACD Line:</strong> EMA(12) - EMA(26)</li>
                    <li><strong>Signal Line:</strong> EMA(9) of MACD</li>
                    <li><strong>Histogram:</strong> MACD - Signal</li>
                </ul>
                
                <h3>üìà Trading Signals</h3>
                <ul>
                    <li><strong>MACD crosses above Signal:</strong> Buy signal üü¢</li>
                    <li><strong>MACD crosses below Signal:</strong> Sell signal üî¥</li>
                    <li><strong>Histogram increasing:</strong> Momentum strengthening</li>
                </ul>
                
                <div class='tip-box'>
                    üí° <strong>Pro Tip:</strong> MACD works best in trending markets, not in sideways/ranging markets.
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalSignals' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üéØ Trading Signals Explained</h2>
                <span class='close-modal' onclick='closeModal("modalSignals")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üö¶ Signal Types</h3>
                
                <h4>üü¢ Bullish Signals (Buy)</h4>
                <ul>
                    <li>RSI oversold (<30) and reversing up</li>
                    <li>MACD crossing above signal line</li>
                    <li>Price bouncing off lower Bollinger Band</li>
                    <li>Golden Cross: Short MA crosses above Long MA</li>
                </ul>
                
                <h4>üî¥ Bearish Signals (Sell)</h4>
                <ul>
                    <li>RSI overbought (>70) and reversing down</li>
                    <li>MACD crossing below signal line</li>
                    <li>Price rejected at upper Bollinger Band</li>
                    <li>Death Cross: Short MA crosses below Long MA</li>
                </ul>
                
                <div class='warning-box'>
                    ‚ö†Ô∏è <strong>Warning:</strong> No signal is 100% accurate. Always combine multiple indicators and use risk management!
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src='assets/js/common.js'></script>
    <script src='assets/js/sidebar.js'></script>
    <script src='assets/js/market-data.js'></script>
</body>
</html>