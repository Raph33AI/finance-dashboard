<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sign in to AlphaVault - AI-powered financial analysis platform">
    <title>Sign In - AlphaVault AI</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/auth.css">

    <!-- ✅ FAVICON DYNAMIQUE - ICI -->
    <!-- <script src="assets/js/favicon-dynamic.js"></script> -->
    <!-- ═══════════════════════════════════════════════════════════
        FAVICONS ALPHAVAULT AI - CONFIGURATION UNIVERSELLE
        Compatible: Google, Apple, Android, Firefox, Safari, Edge
        ═══════════════════════════════════════════════════════════ -->

    <!-- Favicons standard (Google, Firefox, Edge, Bing) -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <!-- Apple Touch Icon (iPhone, iPad, Safari iOS/macOS) -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Android Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

    <!-- Safari Pinned Tab (macOS Safari) -->
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#667eea">

    <!-- Web App Manifest (PWA - Android, Chrome) -->
    <link rel="manifest" href="/site.webmanifest">

    <!-- Theme Colors (Mobile browsers) -->
    <meta name="theme-color" content="#667eea" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="msapplication-TileColor" content="#667eea">

    <!-- Favicon dynamique (modifié par JavaScript pour effets) -->
    <link id="dynamic-favicon" rel="alternate icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    
    <!-- Back to Home Link -->
    <a href="index.html" class="back-to-home">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Home</span>
    </a>

    <!-- Auth Container -->
    <div class="auth-wrapper">
        <!-- Left Side - Branding -->
        <div class="auth-branding">
            <div class="branding-content">
                <!-- Logo -->
                <div class="nav-brand">
                    <!-- Logo AlphaVault AI -->
                    <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" width="32" height="32" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8B5CF6;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Graphique montant -->
                        <path d="M 20 80 L 30 70 L 40 75 L 50 60 L 60 65 L 70 45 L 80 50 L 90 30" 
                            stroke="url(#logoGradient)" 
                            stroke-width="4" 
                            fill="none" 
                            stroke-linecap="round" 
                            stroke-linejoin="round"/>
                        
                        <!-- Points -->
                        <circle cx="30" cy="70" r="4" fill="url(#logoGradient)"/>
                        <circle cx="50" cy="60" r="4" fill="url(#logoGradient)"/>
                        <circle cx="70" cy="45" r="4" fill="url(#logoGradient)"/>
                        <circle cx="90" cy="30" r="5" fill="url(#logoGradient)"/>
                        
                        <!-- Flèche -->
                        <path d="M 85 35 L 90 30 L 85 25" 
                            stroke="url(#logoGradient)" 
                            stroke-width="3" 
                            fill="none" 
                            stroke-linecap="round"/>
                    </svg>
                    <span class="brand-text" style="display: inline-block; vertical-align: middle;">AlphaVault <strong>AI</strong></span>
                </div>
                
                <!-- Features List -->
                <div class="auth-features">
                    <h2 class="features-title">Join thousands of financial experts</h2>
                    <ul class="features-list">
                        <li>
                            <div class="feature-icon-check">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="feature-text">
                                <h3>Real-time AI Analysis</h3>
                                <p>Machine learning & advanced predictions</p>
                            </div>
                        </li>
                        <li>
                            <div class="feature-icon-check">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="feature-text">
                                <h3>All US companies tracked</h3>
                                <p>Complete global database</p>
                            </div>
                        </li>
                        <li>
                            <div class="feature-icon-check">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="feature-text">
                                <h3>Professional quantitative tools</h3>
                                <p>Monte Carlo, VaR, Black-Litterman</p>
                            </div>
                        </li>
                        <li>
                            <div class="feature-icon-check">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="feature-text">
                                <h3>24/7 dedicated support</h3>
                                <p>Expert team at your service</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <!-- Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="quote-icon">
                            <i class="fas fa-quote-left"></i>
                        </div>
                        <p class="testimonial-text">
                            "AlphaVault AI has transformed the way I analyze markets. 
                            The AI predictions are remarkably accurate."
                        </p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <span>JD</span>
                        </div>
                        <div class="author-info">
                            <h4>John Doe</h4>
                            <p>Portfolio Manager, Goldman Sachs</p>
                        </div>
                    </div>
                </div>
                
                <!-- Background Decoration -->
                <div class="branding-decoration">
                    <div class="decoration-orb orb-1"></div>
                    <div class="decoration-orb orb-2"></div>
                    <div class="decoration-grid"></div>
                </div>
            </div>
        </div>
        
        <!-- Right Side - Auth Forms -->
        <div class="auth-forms-container">
            <div class="auth-forms-wrapper">
                
                <!-- Login Form -->
                <div class="auth-form-card" id="loginForm">
                    <div class="form-header">
                        <h2 class="form-title">Welcome back!</h2>
                        <p class="form-subtitle">Sign in to access your dashboard</p>
                    </div>
                    
                    <!-- Social Login Buttons -->
                    <div class="social-login-buttons">
                        <button class="social-btn google-btn" id="googleLoginBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            <span>Continue with Google</span>
                        </button>
                    </div>
                    
                    <!-- Divider -->
                    <div class="auth-divider">
                        <span class="divider-line"></span>
                        <span class="divider-text">or with email</span>
                        <span class="divider-line"></span>
                    </div>
                    
                    <!-- Email Login Form -->
                    <form class="auth-form" id="emailLoginForm">
                        <div class="form-group">
                            <label for="loginEmail" class="form-label">
                                <i class="fas fa-envelope"></i>
                                Email
                            </label>
                            <input 
                                type="email" 
                                id="loginEmail" 
                                class="form-input" 
                                placeholder="your.email@example.com"
                                required
                                autocomplete="email"
                            >
                            <span class="form-error" id="loginEmailError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginPassword" class="form-label">
                                <i class="fas fa-lock"></i>
                                Password
                            </label>
                            <div class="password-input-wrapper">
                                <input 
                                    type="password" 
                                    id="loginPassword" 
                                    class="form-input" 
                                    placeholder="••••••••"
                                    required
                                    autocomplete="current-password"
                                >
                                <button type="button" class="password-toggle" id="toggleLoginPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <span class="form-error" id="loginPasswordError"></span>
                        </div>
                        
                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="rememberMe">
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-text">Remember me</span>
                            </label>
                            <a href="#" class="forgot-password" id="forgotPasswordLink">
                                Forgot password?
                            </a>
                        </div>
                        
                        <button type="submit" class="btn-auth-primary" id="loginSubmitBtn">
                            <span class="btn-text">Sign in</span>
                        </button>
                    </form>
                    
                    <div class="form-footer">
                        <p class="switch-form-text">
                            Don't have an account?
                            <a href="#" class="switch-form-link" id="switchToSignup">
                                Create account
                            </a>
                        </p>
                    </div>
                </div>
                
                <!-- Signup Form -->
                <div class="auth-form-card hidden" id="signupForm">
                    <div class="form-header">
                        <h2 class="form-title">Create your account</h2>
                        <p class="form-subtitle">Start your 14-day free trial</p>
                    </div>
                    
                    <!-- Social Signup Buttons -->
                    <div class="social-login-buttons">
                        <button class="social-btn google-btn" id="googleSignupBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            <span>Sign up with Google</span>
                        </button>
                    </div>
                    
                    <!-- Divider -->
                    <div class="auth-divider">
                        <span class="divider-line"></span>
                        <span class="divider-text">or with email</span>
                        <span class="divider-line"></span>
                    </div>
                    
                    <!-- Email Signup Form -->
                    <form class="auth-form" id="emailSignupForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="signupFirstName" class="form-label">
                                    <i class="fas fa-user"></i>
                                    First name
                                </label>
                                <input 
                                    type="text" 
                                    id="signupFirstName" 
                                    class="form-input" 
                                    placeholder="John"
                                    required
                                    autocomplete="given-name"
                                >
                                <span class="form-error" id="signupFirstNameError"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="signupLastName" class="form-label">
                                    <i class="fas fa-user"></i>
                                    Last name
                                </label>
                                <input 
                                    type="text" 
                                    id="signupLastName" 
                                    class="form-input" 
                                    placeholder="Doe"
                                    required
                                    autocomplete="family-name"
                                >
                                <span class="form-error" id="signupLastNameError"></span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="signupEmail" class="form-label">
                                <i class="fas fa-envelope"></i>
                                Professional email
                            </label>
                            <input 
                                type="email" 
                                id="signupEmail" 
                                class="form-input" 
                                placeholder="your.email@company.com"
                                required
                                autocomplete="email"
                            >
                            <span class="form-error" id="signupEmailError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="signupPassword" class="form-label">
                                <i class="fas fa-lock"></i>
                                Password
                            </label>
                            <div class="password-input-wrapper">
                                <input 
                                    type="password" 
                                    id="signupPassword" 
                                    class="form-input" 
                                    placeholder="••••••••"
                                    required
                                    autocomplete="new-password"
                                >
                                <button type="button" class="password-toggle" id="toggleSignupPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <!-- Password Strength Indicator -->
                            <div class="password-strength" id="passwordStrength">
                                <div class="strength-bars">
                                    <div class="strength-bar"></div>
                                    <div class="strength-bar"></div>
                                    <div class="strength-bar"></div>
                                    <div class="strength-bar"></div>
                                </div>
                                <span class="strength-text" id="strengthText">Very weak</span>
                            </div>
                            <span class="form-error" id="signupPasswordError"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="signupCompany" class="form-label">
                                <i class="fas fa-building"></i>
                                Company (optional)
                            </label>
                            <input 
                                type="text" 
                                id="signupCompany" 
                                class="form-input" 
                                placeholder="Your company name"
                                autocomplete="organization"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="acceptTerms" required>
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-text">
                                    I accept the 
                                    <a href="terms.html" class="terms-link">Terms of Service</a> 
                                    and 
                                    <a href="privacy.html" class="terms-link">Privacy Policy</a>
                                </span>
                            </label>
                            <span class="form-error" id="acceptTermsError"></span>
                        </div>
                        
                        <button type="submit" class="btn-auth-primary" id="signupSubmitBtn">
                            <span class="btn-text">Create my account</span>
                            <div class="btn-loader">
                                <div class="spinner"></div>
                            </div>
                        </button>
                    </form>
                    
                    <div class="form-footer">
                        <p class="switch-form-text">
                            Already have an account?
                            <a href="#" class="switch-form-link" id="switchToLogin">
                                Sign in
                            </a>
                        </p>
                    </div>
                </div>
                
                <!-- Password Reset Form -->
                <div class="auth-form-card hidden" id="resetPasswordForm">
                    <div class="form-header">
                        <button class="back-btn" id="backToLogin">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="form-title">Reset password</h2>
                        <p class="form-subtitle">
                            Enter your email and we'll send you a link to reset your password
                        </p>
                    </div>
                    
                    <form class="auth-form" id="emailResetForm">
                        <div class="form-group">
                            <label for="resetEmail" class="form-label">
                                <i class="fas fa-envelope"></i>
                                Email
                            </label>
                            <input 
                                type="email" 
                                id="resetEmail" 
                                class="form-input" 
                                placeholder="your.email@example.com"
                                required
                                autocomplete="email"
                            >
                            <span class="form-error" id="resetEmailError"></span>
                        </div>
                        
                        <button type="submit" class="btn-auth-primary" id="resetSubmitBtn">
                            <span class="btn-text">Send link</span>
                            <div class="btn-loader">
                                <div class="spinner"></div>
                            </div>
                        </button>
                    </form>
                    
                    <!-- Success Message -->
                    <div class="reset-success hidden" id="resetSuccess">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3 class="success-title">Email sent!</h3>
                        <p class="success-text">
                            Check your inbox and follow the instructions to reset your password.
                        </p>
                        <button class="btn-auth-secondary" id="backToLoginFromSuccess">
                            Back to sign in
                        </button>
                    </div>
                </div>
                
            </div>
            
            <!-- Trust Badges -->
            <div class="trust-badges">
                <div class="trust-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>SSL Secured</span>
                </div>
                <div class="trust-badge">
                    <i class="fas fa-lock"></i>
                    <span>Encrypted Data</span>
                </div>
                <div class="trust-badge">
                    <i class="fas fa-check-circle"></i>
                    <span>GDPR Compliant</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="assets/js/firebase-config.js"></script>
    <!-- <script src="assets/js/referral-firestore.js"></script> -->
    <script src="assets/js/auth.js"></script>
    
</body>
</html>