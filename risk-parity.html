<!DOCTYPE html>
<html lang='fr'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Risk Parity - Raphael NARDONE</title>
    
    <!-- Highcharts -->
    <script src='https://code.highcharts.com/highcharts.js'></script>
    <script src='https://code.highcharts.com/highcharts-more.js'></script>
    <script src='https://code.highcharts.com/modules/exporting.js'></script>
    
    <!-- Styles -->
    <link rel='stylesheet' href='assets/css/common.css'>
    <link rel='stylesheet' href='assets/css/risk-parity.css'>
</head>
<body>
    <div class='container'>
        <!-- Header -->
        <header>
            <h1>Risk Parity Portfolio</h1>
            <p>Equal Risk Contribution Model | Raphael NARDONE</p>
        </header>
        
        <!-- Navigation -->
        <nav>
            <div class='nav-container'>
                <a href='index.html' class='nav-link'>Budget</a>
                <a href='monte-carlo.html' class='nav-link'>Monte Carlo</a>
                <a href='portfolio-optimizer.html' class='nav-link'>Markowitz</a>
                <a href='risk-parity.html' class='nav-link'>Risk Parity</a>
                <a href='scenario-analysis.html' class='nav-link'>Scenarios</a>
            </div>
        </nav>
        
        <!-- Main Content -->
        <div class='content'>
            <!-- Introduction -->
            <div class='section'>
                <h2 class='section-title'>
                    What is Risk Parity? 
                    <span class='help-icon' onclick='openModal("modalRPIntro")'>?</span>
                </h2>
                <div class='info-box'>
                    <h4>Risk Parity vs Markowitz</h4>
                    <p><strong>Markowitz:</strong> Maximizes return for a given risk level (focuses on capital allocation)</p>
                    <p><strong>Risk Parity:</strong> Equalizes risk contribution from each asset (focuses on risk balance)</p>
                    <p><strong>Key Difference:</strong> Markowitz might allocate 80% to low-risk bonds, while Risk Parity ensures each asset contributes equally to portfolio risk.</p>
                    <p><strong>Use Case:</strong> Risk Parity is more stable during market stress and avoids over-concentration.</p>
                </div>
            </div>
            
            <!-- Step 1: Define Assets -->
            <div class='section'>
                <h2 class='section-title'>
                    Step 1: Define Your Assets 
                    <span class='help-icon' onclick='openModal("modalRPAssets")'>?</span>
                </h2>
                <div class='info-box'>
                    <h4>How to use</h4>
                    <p>Enter the annual volatility (%) and correlation for each asset. Risk Parity will calculate weights so each asset contributes equally to total portfolio risk.</p>
                </div>
                <div id='assetsContainer' class='asset-grid'></div>
                <button class='btn-add' onclick='RiskParity.addAsset()'>Add Asset</button>
            </div>
            
            <!-- Step 2: Calculate -->
            <div class='section'>
                <h2 class='section-title'>Step 2: Calculate Risk Parity Allocation</h2>
                <div class='btn-container'>
                    <button class='btn-primary' onclick='RiskParity.calculateRiskParity()'>Calculate Risk Parity</button>
                    <button class='btn-secondary' onclick='RiskParity.resetAssets()'>Reset All</button>
                </div>
            </div>
            
            <!-- Results Section -->
            <div id='resultsSection' class='section hidden'>
                <h2 class='section-title'>
                    Risk Parity Results 
                    <span class='help-icon' onclick='openModal("modalRPResults")'>?</span>
                </h2>
                <div id='globalStats' class='stats-box'></div>
                
                <h3 class='subsection-title'>Allocation Comparison</h3>
                <div class='charts-grid-2'>
                    <div>
                        <h4 class='chart-subtitle'>Risk Parity Allocation</h4>
                        <div id='chartRiskParity' class='chart chart-medium'></div>
                    </div>
                    <div>
                        <h4 class='chart-subtitle'>Equal Weight Allocation (Naive)</h4>
                        <div id='chartEqualWeight' class='chart chart-medium'></div>
                    </div>
                </div>
                
                <h3 class='subsection-title'>
                    Risk Contribution Analysis 
                    <span class='help-icon' onclick='openModal("modalRPContribution")'>?</span>
                </h3>
                <div id='chartRiskContribution' class='chart'></div>
                
                <h3 class='subsection-title'>Detailed Comparison</h3>
                <div id='comparisonTable'></div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer>
            <p>Risk Parity Portfolio | Equal Risk Contribution Model</p>
        </footer>
    </div>
    
    <!-- MODALS -->
    <div id='modalRPIntro' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>‚öñÔ∏è What is Risk Parity?</h2>
                <span class='close-modal' onclick='closeModal("modalRPIntro")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üéØ Core Philosophy</h3>
                <p><span class='key-term'>Risk Parity</span> is a portfolio allocation strategy that focuses on allocating risk, rather than capital. The goal: <strong>each asset contributes equally to total portfolio risk</strong>.</p>
                
                <h3>‚ö†Ô∏è The Problem with Traditional Portfolios</h3>
                <div class='example-box'>
                    <h4>üìä Classic 60/40 Portfolio</h4>
                    <ul>
                        <li><strong>60% Stocks</strong> (volatility: 18%)</li>
                        <li><strong>40% Bonds</strong> (volatility: 6%)</li>
                    </ul>
                    <hr style='margin: 10px 0;'>
                    <p><strong>Risk Contribution:</strong></p>
                    <ul>
                        <li>Stocks contribute: <span style='color: #C39BD3; font-weight: bold;'>~90% of portfolio risk</span></li>
                        <li>Bonds contribute: <span style='color: #4A74F3; font-weight: bold;'>~10% of portfolio risk</span></li>
                    </ul>
                    <p style='margin-top: 10px; color: #9D5CE6; font-weight: bold;'>‚ö†Ô∏è Portfolio is heavily exposed to stock market crashes!</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalRPAssets' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä Defining Your Assets</h2>
                <span class='close-modal' onclick='closeModal("modalRPAssets")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìã Required Inputs</h3>
                <p>For Risk Parity, you only need <strong>2 pieces of data</strong> per asset:</p>
                
                <h4>1Ô∏è‚É£ Annual Volatility (%)</h4>
                <p>The <span class='key-term'>standard deviation</span> of annual returns. This measures how much the asset's price fluctuates.</p>
                
                <h4>2Ô∏è‚É£ Correlation with Other Assets</h4>
                <p><span class='key-term'>Correlation</span> measures how two assets move together. Range: -1 to +1.</p>
            </div>
        </div>
    </div>
    
    <div id='modalRPContribution' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä Understanding Risk Contribution</h2>
                <span class='close-modal' onclick='closeModal("modalRPContribution")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üéØ What is Risk Contribution?</h3>
                <p><span class='key-term'>Risk Contribution</span> (RC) measures how much each asset contributes to the <strong>total portfolio risk</strong>. It's different from the asset's standalone risk!</p>
                
                <div class='tip-box'>
                    üí° <strong>Target Line:</strong> The dashed purple line shows the ideal risk contribution (100% / number of assets). In Risk Parity, all bars should cluster near this line.
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalRPResults' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä Interpreting Your Risk Parity Results</h2>
                <span class='close-modal' onclick='closeModal("modalRPResults")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìà Understanding the Output</h3>
                
                <h4>1Ô∏è‚É£ Portfolio Volatility Comparison</h4>
                <p>The tool shows <strong>two portfolio volatilities</strong>:</p>
                <ul>
                    <li><strong>Risk Parity Volatility:</strong> Usually LOWER than Equal Weight</li>
                    <li><strong>Equal Weight Volatility:</strong> Baseline for comparison</li>
                </ul>
                
                <div class='tip-box'>
                    üí° <strong>Why Lower Volatility?</strong> Risk Parity overweights low-volatility assets (bonds) and underweights high-volatility assets (stocks), creating a smoother ride.
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src='assets/js/common.js'></script>
    <script src='assets/js/risk-parity.js'></script>
</body>
</html>