<!DOCTYPE html>
<html lang='en'> <!-- Changed to 'en' for English content -->
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Market Data - Raphael NARDONE</title>
    
    <!-- Highcharts -->
    <script src='https://code.highcharts.com/highcharts.js'></script>
    <script src='https://code.highcharts.com/modules/exporting.js'></script>
    <script src='https://code.highcharts.com/modules/data.js'></script>
    
    <!-- Font Awesome -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'>
    
    <!-- Styles -->
    <link rel='stylesheet' href='assets/css/common.css'>
    <link rel='stylesheet' href='assets/css/sidebar.css'>
    <link rel='stylesheet' href='assets/css/market-data.css'>
</head>
<body>
    <div class='layout-wrapper'>
        
        <!-- ============================================
             SIDEBAR NAVIGATION
             ============================================ -->
        <aside class='sidebar' id='sidebar'>
            <div class='sidebar-header'>
                <h2><i class='fas fa-chart-line'></i> Finance Hub</h2>
                <button class='sidebar-toggle' id='sidebarToggle'>
                    <i class='fas fa-bars'></i>
                </button>
            </div>
            
            <nav class='sidebar-nav'>
                <!-- Budget Section -->
                <div class='nav-section'>
                    <button class='nav-folder'>
                        <i class='fas fa-wallet'></i>
                        <span>Budget</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu'>
                        <a href='index.html' class='nav-link'>
                            <i class='fas fa-home'></i>
                            <span>Dashboard Budget</span>
                        </a>
                    </div>
                </div>
                
                <!-- Simulation Section -->
                <div class='nav-section'>
                    <button class='nav-folder'>
                        <i class='fas fa-calculator'></i>
                        <span>Simulation</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu'>
                        <a href='monte-carlo.html' class='nav-link'>
                            <i class='fas fa-dice'></i>
                            <span>Monte Carlo</span>
                        </a>
                        <a href='portfolio-optimizer.html' class='nav-link'>
                            <i class='fas fa-chart-pie'></i>
                            <span>Markowitz</span>
                        </a>
                        <a href='risk-parity.html' class='nav-link'>
                            <i class='fas fa-balance-scale'></i>
                            <span>Risk Parity</span>
                        </a>
                        <a href='scenario-analysis.html' class='nav-link'>
                            <i class='fas fa-flask'></i>
                            <span>Scenarios</span>
                        </a>
                    </div>
                </div>
                
                <!-- Stocks Section -->
                <div class='nav-section'>
                    <button class='nav-folder'>
                        <i class='fas fa-chart-line'></i>
                        <span>Stocks</span>
                        <i class='fas fa-chevron-down arrow'></i>
                    </button>
                    <div class='nav-submenu'>
                        <a href='market-data.html' class='nav-link active'>
                            <i class='fas fa-globe'></i>
                            <span>Market Data</span>
                        </a>
                    </div>
                </div>
            </nav>
            
            <div class='sidebar-footer'>
                <div class='user-info'>
                    <i class='fas fa-user-circle'></i>
                    <span>Raphael NARDONE</span>
                </div>
            </div>
        </aside>
        
        <!-- ============================================
             MAIN CONTENT AREA
             ============================================ -->
        <div class='main-content'>
            <!-- Top Header -->
            <header class='top-header'>
                <div class="header-content-wrapper">
                    <div class='header-left'>
                        <button class='mobile-toggle' id='mobileToggle'>
                            <i class='fas fa-bars'></i>
                        </button>
                        <h1>Market Data</h1>
                    </div>
                    <div class='header-right'>
                        <span class='last-update'>
                            <i class='fas fa-clock'></i>
                            <span id='lastUpdate'></span>
                        </span>
                    </div>
                </div>
            </header>
            
            <!-- Container -->
            <div class='container'>
                <!-- Main Content -->
                <div class='content'>
                    <!-- Search Section -->
                    <div class='section'>
                        <h2 class='section-title'>
                            üîç Search Stock Data 
                            <span class='help-icon' onclick='openModal("modalMDSearch")'>?</span>
                        </h2>
                        <div class='search-panel'>
                            <div class='search-grid'>
                                <div class='search-item'>
                                    <label>Stock Symbol (Ticker)</label>
                                    <input type='text' id='stockSymbol' placeholder='AAPL, MSFT, TSLA...' value='AAPL'>
                                    <small>Examples: AAPL (Apple), MSFT (Microsoft), OR.PA (L'Or√©al Paris)</small>
                                </div>
                                <div class='search-item'>
                                    <label>Time Period</label>
                                    <select id='timePeriod'>
                                        <option value='1D'>1 Day (Intraday)</option>
                                        <option value='5D'>5 Days</option>
                                        <option value='1M' selected>1 Month</option>
                                        <option value='3M'>3 Months</option>
                                        <option value='6M'>6 Months</option>
                                        <option value='1Y'>1 Year</option>
                                        <option value='5Y'>5 Years</option>
                                    </select>
                                </div>
                            </div>
                            <button class='btn-search' onclick='MarketData.fetchStockData()'>
                                üìà Get Stock Data
                            </button>
                        </div>
                    </div>
                    
                    <!-- Quick Access Buttons -->
                    <div class='section'>
                        <h2 class='section-title'>‚ö° Quick Access</h2>
                        <div class='quick-buttons'>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("AAPL")'>üçé Apple</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("MSFT")'>üíª Microsoft</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("GOOGL")'>üîç Google</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("TSLA")'>üöó Tesla</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("OR.PA")'>üíÑ L\'Or√©al</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("^GSPC")'>üìä S&P 500</button>
                            <button class='btn-quick' onclick='MarketData.loadQuickStock("BTC-USD")'>‚Çø Bitcoin</button>
                        </div>
                    </div>
                    
                    <!-- Loading Indicator -->
                    <div id='loadingIndicator' class='loading-indicator hidden'>
                        <div class='spinner'></div>
                        <p>Fetching market data...</p>
                    </div>
                    
                    <!-- Results Section -->
                    <div id='resultsSection' class='section hidden'>
                        <!-- Stock Info Cards -->
                        <h2 class='section-title'>
                            üìä Stock Information 
                            <span class='help-icon' onclick='openModal("modalMDStockInfo")'>?</span>
                        </h2>
                        <div id='stockInfo' class='stock-info-grid'></div>
                        
                        <!-- Price Chart -->
                        <h3 class='subsection-title'>
                            Price Evolution 
                            <span class='help-icon help-icon-small' onclick='openModal("modalMDPriceEvolution")'>?</span>
                        </h3>
                        <div id='chartPrice' class='chart'></div>
                        
                        <!-- Volume Chart -->
                        <h3 class='subsection-title'>
                            Trading Volume 
                            <span class='help-icon help-icon-small' onclick='openModal("modalMDTradingVolume")'>?</span>
                        </h3>
                        <div id='chartVolume' class='chart chart-medium'></div>
                        
                        <!-- Statistics Table -->
                        <!-- The statistics and valuation tables will be generated by JS,
                             with their titles and help icons -->
                    </div>
                    
                    <!-- Error Section -->
                    <div id='errorSection' class='section error-section hidden'>
                        <h3>‚ö†Ô∏è Error</h3>
                        <p id='errorMessage'></p>
                    </div>
                </div>
                
                <!-- Footer -->
                <footer>
                    <p>Market Data | Powered by Yahoo Finance & Alpha Vantage APIs</p>
                </footer>
            </div>
        </div>
        
    </div>
    
    <!-- ============================================
         EXPLANATORY MODALS FOR MARKET DATA
         ============================================ -->
    <div id='modalMDSearch' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üîç Stock Data Search</h2>
                <span class='close-modal' onclick='closeModal("modalMDSearch")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üéØ How it Works</h3>
                <p>This section allows you to search for market data for a specific stock using its **ticker symbol** and a **time period**. The system retrieves historical price data and detailed information if available.</p>
                <p>Data is sourced from external providers like Yahoo Finance, accessed via a proxy to bypass CORS restrictions.</p>
                <h3>üí° Usage Tips:</h3>
                <ul>
                    <li>Use the exact ticker symbol (e.g., AAPL for Apple, OR.PA for L'Or√©al).</li>
                    <li>Choose a period suitable for your analysis (from 1 day to 5 years).</li>
                    <li>Note that fundamental data may be limited or unavailable for certain symbols, due to API restrictions.</li>
                </ul>
            </div>
        </div>
    </div>

    <div id='modalMDStockInfo' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä General Stock Information</h2>
                <span class='close-modal' onclick='closeModal("modalMDStockInfo")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìà Quick Overview</h3>
                <p>This section provides essential, near real-time information about the searched symbol.</p>
                <ul>
                    <li><strong>Current Price:</strong> The last closing price or current price.</li>
                    <li><strong>Change (%):</strong> The price change since the previous close, in absolute value and percentage.</li>
                    <li><strong>Day High/Low:</strong> The highest and lowest prices reached during the current trading day.</li>
                    <li><strong>Volume:</strong> The total number of shares traded during the day.</li>
                    <li><strong>52W High/Low:</strong> The highest and lowest prices reached over the last 52 weeks.</li>
                </ul>
                <p>These metrics are crucial for assessing a stock's recent performance and activity.</p>
            </div>
        </div>
    </div>
    
    <div id='modalMDCompanyInfo' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üè¢ Company Information</h2>
                <span class='close-modal' onclick='closeModal("modalMDCompanyInfo")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üéØ Who is Behind the Ticker?</h3>
                <p>This section presents fundamental information about the company associated with the stock ticker.</p>
                <ul>
                    <li><strong>Company:</strong> Full name of the company.</li>
                    <li><strong>Sector / Industry:</strong> The sector and industry in which the company operates.</li>
                    <li><strong>Country / Employees:</strong> The country of origin and the number of employees.</li>
                    <li><strong>Exchange:</strong> The stock exchange where the stock is listed.</li>
                    <li><strong>About:</strong> A brief description of the company's business.</li>
                </ul>
                <p>This data helps to understand the company's context and its market positioning.</p>
            </div>
        </div>
    </div>

    <div id='modalMDFinancialMetrics' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üí∞ Financial Metrics</h2>
                <span class='close-modal' onclick='closeModal("modalMDFinancialMetrics")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìà Financial Health at a Glance</h3>
                <p>These metrics are key indicators of a company's financial performance and valuation.</p>
                <ul>
                    <li><strong>Market Cap (Market Capitalization):</strong> Total value of all outstanding shares.</li>
                    <li><strong>P/E Ratio (Price-to-Earnings):</strong> Price-to-earnings ratio, indicates how much investors are willing to pay for each dollar of earnings.</li>
                    <li><strong>Forward P/E:</strong> P/E based on estimated future earnings.</li>
                    <li><strong>EPS (Earnings Per Share):</strong> Earnings per share, portion of a company's profit allocated to each outstanding share.</li>
                    <li><strong>Beta:</strong> Measures the stock's volatility relative to the market.</li>
                    <li><strong>Dividend Yield:</strong> Dividend yield, percentage of the stock price paid out in dividends.</li>
                    <li><strong>Profit Margin:</strong> Percentage of revenue that translates into profit.</li>
                    <li><strong>ROE (Return on Equity):</strong> Measures the profitability of a corporation in relation to the equity of its shareholders.</li>
                    <li><strong>Revenue Growth:</strong> Indicates the rate at which sales are increasing.</li>
                    <li><strong>Debt to Equity:</strong> Debt-to-equity ratio, measures a company's financial leverage.</li>
                    <li><strong>Current Ratio:</strong> Current liquidity ratio, measures a company's ability to pay off its short-term liabilities.</li>
                    <li><strong>Price to Book:</strong> Price-to-book ratio, compares a company's market value to its book value.</li>
                </ul>
                <p>These figures help investors evaluate the potential value and risk of a stock.</p>
            </div>
        </div>
    </div>

    <div id='modalMDTechnicalIndicators' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìà Technical Indicators</h2>
                <span class='close-modal' onclick='closeModal("modalMDTechnicalIndicators")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìâ Tools for Price Movement Analysis</h3>
                <p>Technical indicators are calculations based on a security's price, volume, or open interest, used to predict future price movements.</p>
                <ul>
                    <li><strong>RSI (Relative Strength Index):</strong> Measures the speed and change of price movements. It indicates whether an asset is overbought (>70) or oversold (<30).</li>
                    <li><strong>SMA (Simple Moving Average):</strong> Arithmetic mean of prices over a given period (e.g., 20, 50, 200 days). Helps identify trends.</li>
                    <li><strong>Bollinger Bands:</strong> Volatility bands that frame prices. A price near the upper band may indicate an overbought asset, near the lower, oversold.</li>
                    <li><strong>ATR (Average True Range):</strong> Measures market volatility by quantifying the extent of price movements.</li>
                    <li><strong>Stochastic %K:</strong> Compares a security's closing price to its price range over a given period to identify overbought/oversold conditions.</li>
                    <li><strong>MACD (Moving Average Convergence Divergence):</strong> Indicates the relationship between two moving averages of a security's price. Used to identify changes in momentum, direction, and strength of a trend.</li>
                    <li><strong>ADX (Average Directional Index):</strong> Measures the strength of the trend, but not its direction. A high value indicates a strong trend.</li>
                </ul>
                <p>These indicators are decision-making tools for traders.</p>
            </div>
        </div>
    </div>

    <div id='modalMDTradingSignals' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üéØ Trading Signals</h2>
                <span class='close-modal' onclick='closeModal("modalMDTradingSignals")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üö¶ Indicators for Action</h3>
                <p>This section interprets technical indicators and price movements to generate buy, sell signals, or trend observations.</p>
                <ul>
                    <li><strong>RSI:</strong> An RSI < 30 may suggest a buy signal (oversold), an RSI > 70 a sell signal (overbought).</li>
                    <li><strong>SMA (Golden/Death Cross):</strong> A "Golden Cross" (short-term SMA > long-term SMA) is bullish (buy), a "Death Cross" (short-term SMA < long-term SMA) is bearish (sell).</li>
                    <li><strong>Bollinger Bands:</strong> A price below the lower band (and rising) can be a buy signal, above the upper band (and falling) a sell signal.</li>
                    <li><strong>Momentum:</strong> A significant price change can indicate bullish (buy) or bearish (sell) momentum.</li>
                </ul>
                <div class='warning-box'>
                    <strong>‚ö†Ô∏è Disclaimer:</strong> These signals are automatically generated and **DO NOT constitute financial advice**. They should be used with other analyses and appropriate risk management. Always do your own research.
                </div>
            </div>
        </div>
    </div>
    
    <div id='modalMDPriceEvolution' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìà Price Evolution</h2>
                <span class='close-modal' onclick='closeModal("modalMDPriceEvolution")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üìâ Understanding Market Movement</h3>
                <p>This chart shows the historical evolution of the stock's closing price over the selected period.</p>
                <ul>
                    <li><strong>Main line:</strong> Represents the stock's closing price over time.</li>
                    <li><strong>Simple Moving Averages (SMA):</strong> Smoothed lines (e.g., SMA 20, SMA 50) that help identify trends and support/resistance levels. A stock maintaining above its SMA can indicate an upward trend.</li>
                </ul>
                <p>By analyzing this chart, investors can identify trends, cycles, and potential entry or exit points.</p>
            </div>
        </div>
    </div>

    <div id='modalMDTradingVolume' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä Trading Volume</h2>
                <span class='close-modal' onclick='closeModal("modalMDTradingVolume")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üí° The Activity Behind the Price</h3>
                <p>This bar chart represents the daily trading volume of the stock, i.e., the total number of shares exchanged (bought and sold) over the given period.</p>
                <ul>
                    <li><strong>High bars:</strong> Indicate strong activity, often associated with significant price movements (up or down).</li>
                    <li><strong>Low bars:</strong> Indicate low activity.</li>
                </ul>
                <p>Volume is a key indicator of the conviction behind a price movement. A significant price movement with high volume is generally considered more meaningful than a similar movement with low volume.</p>
            </div>
        </div>
    </div>

    <div id='modalMDRSIChart' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìà RSI (Relative Strength Index) Chart</h2>
                <span class='close-modal' onclick='closeModal("modalMDRSIChart")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üéØ Momentum Measurement</h3>
                <p>RSI is a momentum indicator that measures the speed and magnitude of price movements. It is displayed on a scale of 0 to 100.</p>
                <ul>
                    <li><strong>Overbought zone (>70):</strong> When the RSI exceeds 70, the asset is potentially overbought, and a downward correction may be imminent.</li>
                    <li><strong>Oversold zone (<30):</strong> When the RSI falls below 30, the asset is potentially oversold, and an upward rebound may be imminent.</li>
                </ul>
                <p>RSI helps traders identify overbought or oversold conditions of a security and anticipate potential trend reversals.</p>
            </div>
        </div>
    </div>
    
    <div id='modalMDPeriodStatistics' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üìä Period Statistics</h2>
                <span class='close-modal' onclick='closeModal("modalMDPeriodStatistics")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üî¢ Key Data for the Selected Period</h3>
                <p>This table presents descriptive statistics based on the price data for the period you have chosen for analysis.</p>
                <ul>
                    <li><strong>Period Min/Max/Average:</strong> The minimum, maximum, and average prices over the period.</li>
                    <li><strong>Volatility (Annualized Std Dev):</strong> Measures the magnitude of price fluctuations. High volatility means significant price movements.</li>
                    <li><strong>Total Return:</strong> The total return of the stock over the selected period.</li>
                    <li><strong>Data Points:</strong> The number of data points used for the analysis.</li>
                    <li><strong>Average Volume:</strong> The average trading volume over the period.</li>
                    <li><strong>Market State:</strong> The current market status (e.g., Regular, Pre-market, Post-market).</li>
                </ul>
                <p>These statistics provide a quantitative overview of the stock's performance.</p>
            </div>
        </div>
    </div>

    <div id='modalMDValuationFundamentals' class='modal'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h2>üíé Valuation & Fundamentals</h2>
                <span class='close-modal' onclick='closeModal("modalMDValuationFundamentals")'>&times;</span>
            </div>
            <div class='modal-body'>
                <h3>üí∞ Understanding Intrinsic Value</h3>
                <p>This section provides detailed financial metrics to assess a company's health and valuation.</p>
                <ul>
                    <li><strong>Total Revenue / Revenue Per Share:</strong> Total sales and sales per share.</li>
                    <li><strong>Operating Margin / Gross Margin:</strong> Operating and gross margins.</li>
                    <li><strong>ROA (Return on Assets):</strong> Return on assets.</li>
                    <li><strong>Total Cash / Total Debt:</strong> Total cash and total debt.</li>
                    <li><strong>Quick Ratio:</strong> Measures a company's liquidity excluding inventory.</li>
                    <li><strong>Enterprise Value (EV):</strong> Total company value (market cap + debt - cash).</li>
                    <li><strong>EV/Revenue, EV/EBITDA:</strong> Valuation ratios based on EV.</li>
                    <li><strong>Shares Outstanding:</strong> Total number of shares in circulation.</li>
                    <li><strong>Held by Insiders/Institutions:</strong> Percentage of shares held by insiders and institutions.</li>
                    <li><strong>Analyst Rating / Number of Analysts:</strong> Average analyst rating and number of analysts covering the stock.</li>
                </ul>
                <p>This data is essential for in-depth analysis of a company's value.</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src='assets/js/common.js'></script>
    <script src='assets/js/sidebar.js'></script>
    <script src='assets/js/market-data.js'></script>
</body>
</html>